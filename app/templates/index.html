{% extends "base.html" %}
{% block title %}Bun Venit - QKD Explorer{% endblock %}

{% block content %}
<!-- Wrapper nou pentru a controla inaltimea si alinierea verticala -->
<div class="d-flex align-items-center justify-content-center" style="min-height: calc(100vh - 140px);">
    <div class="container-fluid">
        <div class="row flex-lg-row align-items-center g-5 py-5">
            
            <div class="col-12 col-lg-6 d-flex justify-content-center">
                <!-- MODIFICARE: Imaginea SVG a fost inlocuita cu GIF-ul tau -->
                <img src="{{ url_for('static', filename='images/intro_box.gif') }}" 
                     class="img-fluid" 
                     alt="Animatie cuantica" 
                     style="border-radius: 1.5rem; max-height: 400px;">
            </div>

            <div class="col-12 col-lg-6 text-center text-lg-start">
                <h1 class="display-4 fw-bold lh-1 mb-3" id="type-title" style="color:#f3f4f6;">Bun Venit la QKD Explorer</h1>
                <p class="lead mb-4" id="type-lead" style="min-height:4.5em; color:#e0e7ff;">
                    O aplicație web interactivă pentru a explora conceptele de bază ale Distribuției Cuantice a Cheilor (Quantum Key Distribution). Navigați folosind meniul de mai sus pentru a experimenta cu diferite protocoale și vizualizări.
                </p>
                <div class="d-grid gap-3 d-md-flex justify-content-center justify-content-md-start">
                    <a href="/bloch" class="btn btn-landing btn-custom-primary btn-lg px-4 me-md-2">Începe cu Sfera Bloch</a>
                    <a href="/bb84" class="btn btn-landing btn-custom-secondary btn-lg px-4">Simulează BB84</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Script-ul pentru efectul de "typing"
document.addEventListener("DOMContentLoaded", function() {
    function typeEffect(element, color, delay = 20, callback) {
        const text = element.textContent;
        element.innerHTML = "";
        for (let i = 0; i < text.length; i++) {
            let span = document.createElement("span");
            span.textContent = text[i];
            span.style.color = "#3b3750";
            element.appendChild(span);
        }
        let spans = element.querySelectorAll("span");
        spans.forEach((span, i) => {
            setTimeout(() => {
                span.style.color = color;
                if (i === spans.length - 1 && callback) callback();
            }, i * delay);
        });
    }

    const titleElem = document.getElementById("type-title");
    const leadElem = document.getElementById("type-lead");
    
    if (titleElem && leadElem) {
        // Set lead text color to pale before typing
        leadElem.style.color = "#3b3750";
        typeEffect(titleElem, "#f3f4f6", 18, function() {
            typeEffect(leadElem, "#e0e7ff", 6);
        });
    }
});
</script>
{% endblock %}

{% block styles %}
<style>
/* Stiluri generale pentru butoane */
.btn-landing {
    font-weight: 600;
    border-radius: 0.75rem;
    border-width: 2px;
    border-style: solid;
    transition: all 0.3s ease;
    transform: translateY(0);
}

a.btn-landing:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 20px -5px var(--btn-glow-color);
    color: #181028 !important;
}

a.btn-custom-primary {
    --btn-glow-color: #a78bfa;
    background-color: transparent;
    border-color: #a78bfa;
    color: #a78bfa;
}
a.btn-custom-primary:hover {
    background-color: #a78bfa;
}

a.btn-custom-secondary {
    --btn-glow-color: #818cf8;
    background-color: transparent;
    border-color: #818cf8;
    color: #818cf8;
}

a.btn-custom-secondary:hover {
    background-color: #818cf8;
}

/* Am eliminat regula care facea textul negru */
/* #type-lead {
    color: #3b3750 !important;
} 
*/
</style>
{% endblock %}
